---
date: "2024-07-02T22:05:59+03:00"
description: ""
id: 4eyi1vlfm6m21cgh7rhj72b
publish: true
title: Thread
updated: 1723120651372
---

Поток - сущность внутри [[organize.resource.it.os.process|процесса]], которая подвергается [[organize.resource.it.os.scheduling|планированию]].

Каждый поток имеет:

- хэндлеры
- приоритет
- локальное хранилище
- идентификатор
- набор структур для сохранения контекста потока при планировании

**Все потоки одного процесса разделяют одно**:

- виртуальное адресное пространство
- системные ресурсы

**Именно потоки являются целью для планирования, а не процессы**

**Потоки используют [[organize.resource.it.os.multitasking#вытесняющая-многозадачность-preemptive-multitasking|вытесняющую многозадачность]]**

<https://learn.microsoft.com/en-gb/windows/win32/procthread/about-processes-and-threads>

---

Почему использование системных потоков дорого?

1. Потому что создание и остановка процессов использует kernel mode, то есть отнимает процессорное процессоное время.

    - для оптимизации используют заранее созданные пулы потоков

2. На каждый поток выделяются ресурсы.
3. Переключение между потоками требует ресурсов на сохранение контекста и переключение контекста.

<https://stackoverflow.com/questions/9964899/why-are-os-threads-considered-expensive>
