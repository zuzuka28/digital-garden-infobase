---
date: "2024-04-22T15:05:21+03:00"
description: |
  мысли по поводу использования swagger в golang
id: 2eolkotbsh41id9v4amv6fj
opinionFor:
- '[[organize/resource/it/golang/pkg/swagger]]'
publish: true
title: Swagger
updated: 1714587996477
---
## Генерация кода на основе Swagger

Сомнительно, но окэй..

- [p] генерация клиентов для сервиса
- [p] генерация сервера, маппинг и валидация параметров
- [p] строгий API
- [с] нужно писать много мапперов писать из структур swagger в model
- [с] большая зависимость между сгенерированным кодом и написанным частью

Мнение сугубо субъективное, мне не очень понравился такой вариант.

Попробовал использовать в проекте, вот какие мысли есть:

- если один и тот же хэндлер в проекте доступен с нескольких swagger path, то придется отдельно писать несколько мапперов из сгенерированного кода
- спецификация swagger несколько ограничена и не все фичи могут быть описаны с ее помощъю.
  - столкнулся с тем, что кастомные виды collection параметров в запросе имеют ограниченные варианты настройки
- мапперов из сгенерированных структур приходится писать много.
  если разные методы API имеют примерно схожий набор параметров, которые можно было бы обрабатывать одной функцией, то в swagger кодогенерации придется писать отдельно мапперы и дублировать логику многократно.

Мне лично несколько сложно писать в таком виде. На мой взгляд, нескольно громоздко и не практично.

Да, сгенерированный код валидирует параметры, да, интерфейс согласован.
Есть определенные преимущества, я заценил генерацию клиентов для frontend из спецификации, не нужно воротить обертки отличающиеся от сервиса к сервису.
