---
date: "2024-05-18T13:14:31+03:00"
description: ""
id: 9ffcbd3qc9yjeswcknwuiv7
publish: true
title: Gopass Workflow
updated: 1722678443078
---

## Цель

<!-- Зачем реализовывать данный проект? -->

Мне нужен надежный менеджер паролей, который я смогу использовать в повседневной жизни.

Мне понравился [[organize.resource.pkm.app.gopass|gopass]] и мне он кажется достаточно надежным, я знаю как сделать его еще лучше для себя.

## Контекст

<!-- Откуда пришла идея реализовать данный проект? -->

Я пробовал разные менеджеры паролей, но зачастую использую встроенные менеджеры от браузера / операционной системы.
Хочу управлять своими паролями сам, чтобы это было более безопасно и не зависило от площадки, которой я пользуюсь.

## Критерий успеха

<!-- Как понять, что проект закончен? -->

- [x] Сделаны доработки для безопасности использования gopass
- [x] Перенесены пароли из устаревших менеджеров в gopass
- [x] Составлена иструкция по использованию моей конфигурации

## Лог

<!-- devlog для проекта -->

- 2024-05-18 - написал все необходимые скрипты
  - осталось добавить доку 
  - осталось добавить шифрование индексаэ
- 2024-08-02 - упрощение интерфейса для взаимодействия

## Результат

<!-- Список артефактов созданных в результате проекта -->

- скрипт для обфускации путей

## Задачи

<!-- Список задач, которые необходимо выполнить для проекта -->

- [x] решить проблему с видимыми названиями ресурсов в gopass
  - [x] скрипт рекурсивного хэширования относительных путей
  - [x] индекс для хэшированных записей, чтобы была возможность поиска по ресурсам
  - [x] скрипт для восстановления дерева ресурсов
  - [?] хуки
- [x] перенести пароли
- [x] составить доку 
  - добавил комменты в код

## Заметки

<!-- Любые заметки связанные с проектом -->

Главная задача - обфусцировать пути и названия файлов. 

Для решения задачи я решил использовать [[organize.resource.it.lang.shell#bash-4|bash4]], поскольку там есть словари.

Идея в чем:

- хэшировать пути к секретам
- держать индекс хэш-путь (тоже зашифровать)
- написать скрипт, который расшифрует индекс и грепнет по файлу, чтобы проверить наличие секрета, хэш можно будет скормить gopass
- написать скрипт для восстановления дерева секретов (в принципе, держать индекс не нужно, если менеджер паролей хранится на машине)

## Обзор

<!-- Ретроспектива проекта. Что получилось, что не получилось, как сделать лучше? -->
